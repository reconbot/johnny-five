<!doctype html>
<html>
<head>
  <meta charset="utf-8">
  <title>JavaScript Robotics: Motion API (Johnny-Five)</title>
  <meta property="og:title" content="JavaScript Robotics: Motion API (Johnny-Five)">
  <meta property="og:url" content="http://johnny-five.io/api/motion">
    <meta property="og:site_name" content="Johnny-Five">
  <meta property="og:image" content="http://johnny-five.io/img/static/johnny-five-fb.png">
  <meta property="og:description" content="Johnny-Five is the original JavaScript Robotics &amp; IoT Platform. Released by Bocoup in 2012, Johnny-Five is maintained by a community of passionate software developers and hardware engineers. Over 75 developers have made contributions towards building a robust, extensible and composable ecosystem.">

  <meta name="description" content="Johnny-Five is the JavaScript Robotics &amp; IoT Platform , Motion">
  <meta name="keywords" content="JavaScript, Robotics , Motion">
  <meta name="viewport" content="width=device-width, initial-scale=1">
  <meta name="fonts" content="/css/type.css">


  <link rel="stylesheet" href="/css/styles.css?v1">
  <link rel="stylesheet" href="/css/anchor.css?v1">
  <link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/styles/github.min.css">

  <script src="/js/fontloader.js" id="fontloader"></script>
  <script src="/js/anchor.js" id="anchor.js"></script>
  <script src="/js/es6-shim.js" id="es6-shim.js"></script>

  <link rel="icon" type="image/png" href="/favicon-32x32.png" sizes="32x32">
  <link rel="icon" type="image/png" href="/favicon-16x16.png" sizes="16x16">
  <link rel="icon" type="image/x-icon" href="/favicon.ico">

</head>
<body>

  <div class="mast">
    <nav class="nav-primary wrapper icon-j5">
            <a href="/">
        <img src="/img/j5-logo.svg" class="j5-icon">
      </a>

      <div class="navlist">
        <a href="/news/">News</a>
        <a href="/api/">API</a>
        <a href="/examples/">Examples</a>
        <a href="/articles/">Articles</a>
        <a href="/platform-support/" class="link-display-full">Platform Support</a>
        <a href="/platform-support/" class="link-display-short">Platforms</a>
      </div>


    </nav>

    <header role="banner" class="banner">
     <h1 class="site-hed"><span>Motion</span></h1>
    </header>
  </div>

  <main class="central docs">
    <div class="wrap-a wrap-docs list-docs">
      <nav id="api-nav" class="docs-nav api-nav-list api-content-view">
        <h3>Component Classes</h3>
        <ul>
<li><a href="/api/accelerometer/">Accelerometer</a></li>
<li><a href="/api/altimeter/">Altimeter</a></li>
<li><a href="/api/animation/">Animation</a></li>
<li><a href="/api/barometer/">Barometer</a></li>
<li><a href="/api/board/">Board</a></li>
<li><a href="/api/boards/">Boards</a></li>
<li><a href="/api/button/">Button</a></li>
<li><a href="/api/compass/">Compass</a></li>
<li><a href="/api/esc/">ESC</a></li>
<li><a href="/api/escs/">ESCs</a></li>
<li><a href="/api/expander/">Expander</a></li>
<li><a href="/api/fn/">Fn</a></li>
<li><a href="/api/gps/">GPS</a></li>
<li><a href="/api/gyro/">Gyro</a></li>
<li><a href="/api/hygrometer/">Hygrometer</a></li>
<li><a href="/api/imu/">IMU</a></li>
<li><a href="/api/ir.reflect.array/">IR.Reflect.Array</a></li>
<li><a href="/api/joystick/">Joystick</a></li>
<li><a href="/api/keypad/">Keypad</a></li>
<li><a href="/api/lcd/">LCD</a></li>
<li><a href="/api/led/">Led</a></li>
<li><a href="/api/led.digits/">Led.Digits</a></li>
<li><a href="/api/led.matrix/">Led.Matrix</a></li>
<li><a href="/api/led.rgb/">Led.RGB</a></li>
<li><a href="/api/leds/">Leds</a></li>
<li><a href="/api/light/">Light</a></li>
<li><a href="/api/motion/">Motion</a></li>
<li><a href="/api/motor/">Motor</a></li>
<li><a href="/api/motors/">Motors</a></li>
<li><a href="/api/multi/">Multi</a></li>
<li><a href="/api/piezo/">Piezo</a></li>
<li><a href="/api/pin/">Pin</a></li>
<li><a href="/api/proximity/">Proximity</a></li>
<li><a href="/api/relay/">Relay</a></li>
<li><a href="/api/relays/">Relays</a></li>
<li><a href="/api/sensor/">Sensor</a></li>
<li><a href="/api/servo/">Servo</a></li>
<li><a href="/api/servos/">Servos</a></li>
<li><a href="/api/shiftregister/">ShiftRegister</a></li>
<li><a href="/api/stepper/">Stepper</a></li>
<li><a href="/api/switch/">Switch</a></li>
<li><a href="/api/thermometer/">Thermometer</a></li>
</ul>

      </nav>

      <div class="docs-content api-content-view">
        <ul class="api-anchors">
          <li><a href="#parameters">Parameters</a></li>
          <li><a href="#shape">Shape</a></li>
          <li><a href="#component-initialization">Component Initialization</a>
          <li><a href="#usage">Usage</a></li>
          <li><a href="#api">API</a></li>
          <li><a href="#events">Events</a></li>
        </ul>

        <p>The <code>Motion</code> class constructs an object that represents a single Motion Detection sensor.</p>
<p>Supported Motion sensors:</p>
<ul>
<li><a href="http://www.parallax.com/tabid/768/productid/83/default.aspx">Passive Infra-Red by Parallax</a></li>
<li><a href="http://www.amazon.com/HC-SR501-Sensor-Module-Pyroelectric-Infrared/dp/B007XQRKD4">Generic Passive Infra-Red, HC-SR501</a></li>
<li><a href="http://osepp.com/products/sensors-arduino-compatible/osepp-ir-proximity-sensor-module/">OSEPP IR Proximity Sensor</a>
<ul>
<li>Note: despite its name, this <strong>is not</strong> a proximity sensor that outputs a measured distance to an obstruction.</li>
</ul></li>
<li>Sharp IR Motion Detection
<ul>
<li><a href="https://www.pololu.com/product/1134">GP2Y0D810Z0F</a></li>
<li><a href="https://www.pololu.com/product/1133">GP2Y0D815Z0F</a></li>
</ul></li>
</ul>
<h2>Parameters</h2>
<ul>
<li><p><strong>pin</strong> A Number pin address for Motion sensor.</p></li>
<li><p><strong>options</strong> An object of property parameters.
<span class="abbreviate-table"></p>
<table>
<thead>
<tr><th>Property</th><th>Type</th><th>Value/Description</th><th>Default</th><th>Required</th></tr>
</thead>
<tbody>
<tr><td>pin</td><td>Number, String</td><td>Analog or Digital Pin. Use for non-I2C sensors</td><td></td><td>Yes (non-I2C)</td></tr>
<tr><td>controller</td><td>String</td><td>PIR, HCSR501, GP2Y0D805Z0F, GP2Y0D810Z0F, GP2Y0D815Z0F. See aliases</td><td><code>PIR</code></td><td>No</td></tr>
</tbody>
</table>
<p></span></p>
<h5>Controller Alias Table</h5>
<table>
<thead>
<tr><th>Controller</th><th>Alias</th></tr>
</thead>
<tbody>
<tr><td>HC-SR501</td><td>PIR</td></tr>
<tr><td>HCSR501</td><td>PIR</td></tr>
<tr><td>GP2Y0D805Z0F</td><td>0D805</td></tr>
<tr><td>GP2Y0D805Z0F</td><td>805</td></tr>
<tr><td>GP2Y0D810Z0F</td><td>0D810</td></tr>
<tr><td>GP2Y0D810Z0F</td><td>810</td></tr>
<tr><td>GP2Y0D815Z0F</td><td>0D815</td></tr>
<tr><td>GP2Y0D815Z0F</td><td>815</td></tr>
</tbody>
</table>
</li>
</ul>
<h2>Shape</h2>
<table>
<thead>
<tr><th>Property Name</th><th>Description</th><th>Read Only</th></tr>
</thead>
<tbody>
<tr><td><code>id</code></td><td>A user definable id value. Defaults to a generated uid</td><td>No</td></tr>
<tr><td><code>pin</code></td><td>The pin address that the Sensor is attached to</td><td>No</td></tr>
<tr><td><code>value</code></td><td>Sensor value.</td><td>Yes</td></tr>
<tr><td><code>detectedMotion</code></td><td>Boolean value.</td><td>Yes</td></tr>
<tr><td><code>isCalibrated</code></td><td>Boolean flag indicating calibration state.</td><td>Yes</td></tr>
</tbody>
</table>
<h2>Component Initialization</h2>
<h4>Passive InfraRed Motion</h4>
<p>This is the default controller.</p>
<pre><code class="language-js">// Pin only
new five.Motion(7);

// Options object with pin property
var motion = new five.Motion({
  pin: 7
});
</code></pre>
<p><img src="https://github.com/rwaldron/johnny-five/raw/master/docs/breadboard/motion.png" alt="Motion"></p>
<h4>GP2Y0D805Z0F</h4>
<pre><code class="language-js">
var motion = new five.Motion({
  controller: &quot;GP2Y0D805Z0F&quot;
});
</code></pre>
<p><img src="https://github.com/rwaldron/johnny-five/raw/master/docs/breadboard/motion-gp2y0d805z0f.png" alt="Motion"></p>
<h4>GP2Y0D810Z0F and GP2Y0D815Z0F</h4>
<pre><code class="language-js">var motion = new five.Motion({
  controller: &quot;GP2Y0D810Z0F&quot;, 
  pin: &quot;A0&quot;
});

var motion = new five.Motion({
  controller: &quot;GP2Y0D815Z0F&quot;, 
  pin: &quot;A0&quot;
});
</code></pre>
<p><img src="https://github.com/rwaldron/johnny-five/raw/master/docs/breadboard/GP2Y0D810Z0F.png" alt="Motion"></p>
<h2>Usage</h2>
<pre><code class="language-js">var five = require(&quot;johnny-five&quot;);
var board = new five.Board();

board.on(&quot;ready&quot;, function() {

  // Create a new `motion` hardware instance.
  var motion = new five.Motion(7);

  // &quot;calibrated&quot; occurs once, at the beginning of a session,
  motion.on(&quot;calibrated&quot;, function() {
    console.log(&quot;calibrated&quot;);
  });

  // &quot;motionstart&quot; events are fired when the &quot;calibrated&quot;
  // proximal area is disrupted, generally by some form of movement
  motion.on(&quot;motionstart&quot;, function() {
    console.log(&quot;motionstart&quot;);
  });

  // &quot;motionend&quot; events are fired following a &quot;motionstart&quot; event
  // when no movement has occurred in X ms
  motion.on(&quot;motionend&quot;, function() {
    console.log(&quot;motionend&quot;);
  });
});
</code></pre>
<h2>Events</h2>
<ul>
<li><p><strong>data</strong> The &quot;data&quot; event is fired as frequently as the user defined freq will allow in milliseconds. (&quot;data&quot; replaced the &quot;read&quot; event)</p></li>
<li><p><strong>change</strong> The &quot;change&quot; event is fired whenever a change within the motion detection field is observed.</p></li>
<li><p><strong>motionstart</strong> The &quot;motionstart&quot; event is fired when motion occurs within the observable range of the PIR/Motion/IR.Proximity sensor</p></li>
<li><p><strong>motionend</strong> The &quot;motionend&quot; event is fired when motion has ceased within the observable range of the PIR/Motion/IR.Proximity sensor.</p></li>
<li><p><strong>calibrated</strong> The &quot;calibrated&quot; event is fired when PIR/Motion sensor is ready to detect movement/motion in observable range. (PIR/Motion ONLY)</p></li>
</ul>



        <h2>Examples</h2>
<ul>
<li><a href="/examples/ir-motion">IR Motion</a></li>
<li><a href="/examples/motion">Motion</a></li>
<li><a href="/examples/motion-gp2y0d805z0f">Motion - GP2Y0D805Z0F</a></li>
<li><a href="/examples/motion-gp2y0d810z0f">Motion - GP2Y0D810Z0F</a></li>
<li><a href="/examples/motion-gp2y0d815z0f">Motion - GP2Y0D810Z0F</a></li>
<li><a href="/examples/motion-GP2Y0A60SZLF">Motion - GP2Y0A60SZLF</a></li>
</ul>

      </div>
    </div>
  </main>

    <div class="bmast">
    <div class="bmast-central">
      <div class="enews-intro">
        <p>Hi! The Johnny-Five community is building new projects every day. We made this newsletter to tell you about what's new, what's good, and what's next for Open Source robotics. Join us in exploring what we can make together.</p>
      </div>

      <div class="enews-signup">
        <!-- Begin MailChimp Signup Form -->
        <div id="mc_embed_signup">
          <form action="//johnny-five.us1.list-manage.com/subscribe/post?u=118da1f399c6a18b75e6972ee&amp;id=b0bf5cc6c2" method="post" id="mc-embedded-subscribe-form" name="mc-embedded-subscribe-form" class="validate" target="_blank" novalidate>
              <div id="mc_embed_signup_scroll">
              <label for="mce-EMAIL">Email Address</label>
              <input type="email" value="" name="EMAIL" class="email" id="mce-EMAIL" placeholder="Your email address" required>
              <!-- real people should not fill this in and expect good things - do not remove this or risk form bot signups-->
              <div style="position: absolute; left: -5000px;" aria-hidden="true"><input type="text" name="b_118da1f399c6a18b75e6972ee_b0bf5cc6c2" tabindex="-1" value=""></div>
              <div class="clear"><input type="submit" value="Subscribe" name="subscribe" id="mc-embedded-subscribe" class="button"></div>
              </div>
          </form>
        </div>
        <!--End mc_embed_signup-->
      </div>
    </div>
  </div>

  <a href="https://github.com/rwaldron/johnny-five">
    <img style="position: absolute; top: 0; right: 0; border: 0;" src="https://camo.githubusercontent.com/52760788cde945287fbb584134c4cbc2bc36f904/68747470733a2f2f73332e616d617a6f6e6177732e636f6d2f6769746875622f726962626f6e732f666f726b6d655f72696768745f77686974655f6666666666662e706e67" alt="Fork me on GitHub" data-canonical-src="https://s3.amazonaws.com/github/ribbons/forkme_right_white_ffffff.png" class="fork-me">
  </a>

  <footer>
    <div class="created-at-bocoup">

      <a href="http://bocoup.com">
        <img src="/img/bocoup-bob.png">
      </a>

    </div>
    <div class="social">

      <a href="https://github.com/rwaldron/johnny-five" class="github-icon"><img src="/img/github-icon.png"></a>

      <a href="https://www.youtube.com/results?search_query=nodebots" class="yt-icon"><img src="/img/yt-icon.png"></a>
      <a href="https://twitter.com/rwaldron/lists/nodebotics" class="twitter-icon"><img src="/img/twitter-icon.png"></a>
    </div>
  </footer>
  <script src="/js/platform-data.js"></script>
  <script src="/js/main.js"></script>
  <script src="/js/konami.js"></script>
  <script src="//cdnjs.cloudflare.com/ajax/libs/highlight.js/8.4/highlight.min.js"></script>
  <script>hljs.initHighlightingOnLoad();</script>
  <script async defer id="github-bjs" src="https://buttons.github.io/buttons.js"></script>
  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

    ga('create', 'UA-61698621-1', 'auto');
    ga('send', 'pageview');
  </script>


</body>
</html>
